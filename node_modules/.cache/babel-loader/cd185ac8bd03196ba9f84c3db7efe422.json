{"ast":null,"code":"var URL = 'http://localhost:3001/api/v1/users';\n\nvar displayErrors = function displayErrors(data) {\n  return {\n    type: \"DISPLAY_ERRORS\",\n    payload: data\n  };\n};\n\nvar createdUser = function createdUser(data) {\n  localStorage.setItem('token', data.jwt);\n  return {\n    type: \"LOGGED_IN\",\n    payload: data\n  };\n};\n\nvar creatingUser = function creatingUser(userObject) {\n  return function (dispatch) {\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(userObject)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      if (data.errors) {\n        dispatch(displayErrors(data));\n      } else {\n        dispatch(createdUser(data));\n      }\n    });\n  };\n};\n\nvar fetchedSessions = function fetchedSessions(data) {\n  return {\n    type: \"FETCHED_SESSIONS\",\n    payload: data\n  };\n};\n\nvar fetchingSessions = function fetchingSessions(user_id) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"\".concat(URL, \"/\").concat(user_id), {\n      method: 'GET',\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token),\n        \"userSessions\": true\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(fetchedSessions(data));\n    });\n  };\n};\n\nvar fetchedUserBalances = function fetchedUserBalances(data) {\n  return {\n    type: \"FETCHED_USER_DATA\",\n    payload: data\n  };\n};\n\nvar fetchingUserBalances = function fetchingUserBalances(user_id) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"\".concat(URL, \"/\").concat(user_id), {\n      method: 'GET',\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token),\n        \"userBalance\": true\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(fetchedUserBalances(data));\n    });\n  };\n};\n\nvar fetchedUserList = function fetchedUserList(data) {\n  return {\n    type: \"FETCHED_USER_LIST\",\n    payload: data\n  };\n};\n\nvar fetchingUserList = function fetchingUserList() {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(URL, {\n      method: 'GET',\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(fetchedUserList(data));\n    });\n  };\n};\n\nvar fetchedSelectedProfile = function fetchedSelectedProfile(data) {\n  return {\n    type: \"FETCHED_USER_LIST\",\n    payload: data\n  };\n};\n\nvar fetchingSelectedProfile = function fetchingSelectedProfile() {\n  var token = localStorage.getItem('token');\n  debugger;\n  return function (dispatch) {\n    fetch(URL, {\n      method: 'GET',\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(fetchedUserList(data));\n    });\n  };\n};\n\nexport { fetchingSessions, fetchingUserList, fetchingUserBalances, creatingUser, fetchingSelectedProfile };","map":{"version":3,"sources":["/Users/flatironschool/Development/module_5/poker_app_frontend/src/redux/actions/users.js"],"names":["URL","displayErrors","data","type","payload","createdUser","localStorage","setItem","jwt","creatingUser","userObject","dispatch","fetch","method","headers","body","JSON","stringify","then","res","json","errors","fetchedSessions","fetchingSessions","user_id","token","getItem","fetchedUserBalances","fetchingUserBalances","fetchedUserList","fetchingUserList","fetchedSelectedProfile","fetchingSelectedProfile"],"mappings":"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","sourcesContent":["const URL = 'http://localhost:3001/api/v1/users'\n\nconst displayErrors = (data) => {\n  return {\n    type:\"DISPLAY_ERRORS\",\n    payload: data\n  }\n}\n\nconst createdUser = (data) => {\n  localStorage.setItem('token', data.jwt)\n  return {\n    type:\"LOGGED_IN\",\n    payload: data\n  }\n}\n\nconst creatingUser = (userObject) => {\n  return dispatch => {\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(userObject)\n    })\n      .then(res => res.json())\n      .then(data => {\n        if (data.errors) {\n          dispatch(displayErrors(data))\n        } else {\n          dispatch(createdUser(data))\n        }\n      }\n    )\n  }\n}\n\nconst fetchedSessions = (data) => {\n  return {\n    type:\"FETCHED_SESSIONS\",\n    payload: data\n  }\n}\n\nconst fetchingSessions = (user_id) => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(`${URL}/${user_id}`, {\n      method: 'GET',\n      headers: {\n        \"Authentication\" : `Bearer ${token}`,\n        \"userSessions\": true\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(fetchedSessions(data))\n    })\n  }\n}\n\nconst fetchedUserBalances = (data) => {\n  return {\n    type:\"FETCHED_USER_DATA\",\n    payload: data\n  }\n}\n\nconst fetchingUserBalances = (user_id) => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(`${URL}/${user_id}`, {\n      method: 'GET',\n      headers: {\n        \"Authentication\" : `Bearer ${token}`,\n        \"userBalance\": true\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(fetchedUserBalances(data))\n    })\n  }\n}\n\nconst fetchedUserList= (data) => {\n  return {\n    type:\"FETCHED_USER_LIST\",\n    payload: data\n  }\n}\n\nconst fetchingUserList = () => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(URL, {\n      method: 'GET',\n      headers: {\n        \"Authentication\" : `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(fetchedUserList(data))\n    })\n  }\n}\n\nconst fetchedSelectedProfile = (data) => {\n  return {\n    type:\"FETCHED_USER_LIST\",\n    payload: data\n  }\n}\n\nconst fetchingSelectedProfile = () => {\n  let token = localStorage.getItem('token')\n  debugger\n  return (dispatch) => {\n    fetch(URL, {\n      method: 'GET',\n      headers: {\n        \"Authentication\" : `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(fetchedUserList(data))\n    })\n  }\n}\n\nexport { fetchingSessions, fetchingUserList, fetchingUserBalances, creatingUser, fetchingSelectedProfile };\n"]},"metadata":{},"sourceType":"module"}