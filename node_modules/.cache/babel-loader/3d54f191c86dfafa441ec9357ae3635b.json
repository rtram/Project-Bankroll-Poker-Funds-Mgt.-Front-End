{"ast":null,"code":"var URL = 'http://localhost:3001/api/v1/sessions';\n\nvar fetchedSessions = function fetchedSessions(data) {\n  return {\n    type: \"FETCHED_SESSIONS\",\n    payload: data\n  };\n};\n\nvar fetchingSessions = function fetchingSessions(user_id) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"\".concat(URL, \"/\").concat(user_id), {\n      method: 'GET',\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token)\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(fetchedSessions(data));\n    });\n  };\n};\n\nvar postedSession = function postedSession(data) {\n  debugger;\n  return {\n    type: 'POST_SESSION',\n    payload: data\n  };\n};\n\nvar displaySessionErrors = function displaySessionErrors(data) {\n  return {\n    type: 'DISPLAY_SESSION_ERRORS',\n    payload: data\n  };\n};\n\nvar postingSession = function postingSession(sessionObject) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authentication\": \"Bearer \".concat(token)\n      },\n      body: JSON.stringify(sessionObject)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      debugger;\n\n      if (data.errors) {\n        dispatch(displaySessionErrors(data.errors));\n      } else {\n        dispatch(postedSession(data));\n      }\n    });\n  };\n};\n\nvar updatedSession = function updatedSession(data) {\n  return {\n    type: 'UPDATED_SESSION',\n    payload: data\n  };\n};\n\nvar updatingSession = function updatingSession(sessionObject) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"\".concat(URL, \"/\").concat(sessionObject.id), {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": \"Bearer \".concat(token)\n      },\n      body: JSON.stringify(sessionObject)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      return dispatch(updatedSession(data));\n    });\n  };\n};\n\nvar deletedSession = function deletedSession(data) {\n  return {\n    type: 'DELETED_SESSION',\n    payload: data\n  };\n};\n\nvar deletingSession = function deletingSession(sessionObject) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    dispatch(deletedSession(sessionObject));\n    fetch(\"\".concat(URL, \"/\").concat(sessionObject.id), {\n      method: \"DELETE\",\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token)\n      }\n    });\n  };\n};\n\nexport { postingSession, updatingSession, deletingSession, fetchingSessions };","map":{"version":3,"sources":["/Users/flatironschool/Development/module_5/poker_app_frontend/src/redux/actions/sessions.js"],"names":["URL","fetchedSessions","data","type","payload","fetchingSessions","user_id","token","localStorage","getItem","dispatch","fetch","method","headers","then","res","json","postedSession","displaySessionErrors","postingSession","sessionObject","body","JSON","stringify","errors","updatedSession","updatingSession","id","deletedSession","deletingSession"],"mappings":"AAAA,IAAMA,GAAG,GAAG,uCAAZ;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,IAAD,EAAU;AAChC,SAAO;AACLC,IAAAA,IAAI,EAAC,kBADA;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAGD,CAJD;;AAMA,IAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACC,OAAD,EAAa;AACpC,MAAIC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAACC,QAAD,EAAc;AACnBC,IAAAA,KAAK,WAAIX,GAAJ,cAAWM,OAAX,GAAsB;AACzBM,MAAAA,MAAM,EAAE,KADiB;AAEzBC,MAAAA,OAAO,EAAE;AACP,2CAA6BN,KAA7B;AADO;AAFgB,KAAtB,CAAL,CAMCO,IAND,CAMM,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KANT,EAOCF,IAPD,CAOM,UAAAZ,IAAI,EAAI;AACZQ,MAAAA,QAAQ,CAACT,eAAe,CAACC,IAAD,CAAhB,CAAR;AACD,KATD;AAUD,GAXD;AAYD,CAdD;;AAgBA,IAAMe,aAAa,GAAG,SAAhBA,aAAgB,CAAAf,IAAI,EAAI;AAC5B;AACA,SAAO;AACLC,IAAAA,IAAI,EAAE,cADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CAND;;AAQA,IAAMgB,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAhB,IAAI,EAAI;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAE,wBADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALD;;AAOA,IAAMiB,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,aAAa,EAAI;AACtC,MAAIb,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBC,IAAAA,KAAK,CAACX,GAAD,EAAM;AACTY,MAAAA,MAAM,EAAE,MADC;AAETC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,2CAA6BN,KAA7B;AAFO,OAFA;AAMTc,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,aAAf;AANG,KAAN,CAAL,CAQGN,IARH,CAQQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KARX,EASGF,IATH,CASQ,UAAAZ,IAAI,EAAI;AACZ;;AACA,UAAIA,IAAI,CAACsB,MAAT,EAAiB;AACfd,QAAAA,QAAQ,CAACQ,oBAAoB,CAAChB,IAAI,CAACsB,MAAN,CAArB,CAAR;AACD,OAFD,MAEO;AACLd,QAAAA,QAAQ,CAACO,aAAa,CAACf,IAAD,CAAd,CAAR;AACD;AACF,KAhBH;AAkBD,GAnBD;AAoBD,CAtBD;;AAwBA,IAAMuB,cAAc,GAAG,SAAjBA,cAAiB,CAAAvB,IAAI,EAAI;AAC7B,SAAO;AACLC,IAAAA,IAAI,EAAE,iBADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALD;;AAOA,IAAMwB,eAAe,GAAG,SAAlBA,eAAkB,CAAAN,aAAa,EAAI;AACvC,MAAIb,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBC,IAAAA,KAAK,WAAIX,GAAJ,cAAWoB,aAAa,CAACO,EAAzB,GAA+B;AAClCf,MAAAA,MAAM,EAAE,OAD0B;AAElCC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEP,2CAA6BN,KAA7B;AAFO,OAFyB;AAMlCc,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,aAAf;AAN4B,KAA/B,CAAL,CAQGN,IARH,CAQQ,UAAAC,GAAG;AAAA,aAAIA,GAAG,CAACC,IAAJ,EAAJ;AAAA,KARX,EASGF,IATH,CASQ,UAAAZ,IAAI;AAAA,aAAIQ,QAAQ,CAACe,cAAc,CAACvB,IAAD,CAAf,CAAZ;AAAA,KATZ;AAUD,GAXD;AAYD,CAdD;;AAgBA,IAAM0B,cAAc,GAAG,SAAjBA,cAAiB,CAAA1B,IAAI,EAAI;AAC7B,SAAO;AACLC,IAAAA,IAAI,EAAE,iBADD;AAELC,IAAAA,OAAO,EAAEF;AAFJ,GAAP;AAID,CALD;;AAOA,IAAM2B,eAAe,GAAG,SAAlBA,eAAkB,CAAAT,aAAa,EAAI;AACvC,MAAIb,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACA,SAAO,UAAAC,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACkB,cAAc,CAACR,aAAD,CAAf,CAAR;AACAT,IAAAA,KAAK,WAAIX,GAAJ,cAAWoB,aAAa,CAACO,EAAzB,GAA+B;AAClCf,MAAAA,MAAM,EAAE,QAD0B;AAElCC,MAAAA,OAAO,EAAE;AACP,2CAA6BN,KAA7B;AADO;AAFyB,KAA/B,CAAL;AAMD,GARD;AASD,CAXD;;AAaA,SAASY,cAAT,EAAyBO,eAAzB,EAA0CG,eAA1C,EAA2DxB,gBAA3D","sourcesContent":["const URL = 'http://localhost:3001/api/v1/sessions'\n\nconst fetchedSessions = (data) => {\n  return {\n    type:\"FETCHED_SESSIONS\",\n    payload: data}\n}\n\nconst fetchingSessions = (user_id) => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(`${URL}/${user_id}`, {\n      method: 'GET',\n      headers: {\n        \"Authentication\" : `Bearer ${token}`\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(fetchedSessions(data))\n    })\n  }\n}\n\nconst postedSession = data => {\n  debugger\n  return {\n    type: 'POST_SESSION',\n    payload: data\n  };\n}\n\nconst displaySessionErrors = data => {\n  return {\n    type: 'DISPLAY_SESSION_ERRORS',\n    payload: data\n  }\n}\n\nconst postingSession = sessionObject => {\n  let token = localStorage.getItem('token')\n  return dispatch => {\n    fetch(URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        \"Authentication\" : `Bearer ${token}`\n      },\n      body: JSON.stringify(sessionObject)\n    })\n      .then(res => res.json())\n      .then(data => {\n        debugger\n        if (data.errors) {\n          dispatch(displaySessionErrors(data.errors))\n        } else {\n          dispatch(postedSession(data))\n        }\n      }\n    )\n  }\n}\n\nconst updatedSession = data => {\n  return {\n    type: 'UPDATED_SESSION',\n    payload: data\n  };\n}\n\nconst updatingSession = sessionObject => {\n  let token = localStorage.getItem('token')\n  return dispatch => {\n    fetch(`${URL}/${sessionObject.id}`, {\n      method: \"PATCH\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\" : `Bearer ${token}`\n      },\n      body: JSON.stringify(sessionObject)\n    })\n      .then(res => res.json())\n      .then(data => dispatch(updatedSession(data)))\n  }\n}\n\nconst deletedSession = data => {\n  return {\n    type: 'DELETED_SESSION',\n    payload: data\n  };\n}\n\nconst deletingSession = sessionObject => {\n  let token = localStorage.getItem('token')\n  return dispatch => {\n    dispatch(deletedSession(sessionObject))\n    fetch(`${URL}/${sessionObject.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authentication\" : `Bearer ${token}`\n      }\n    })\n  }\n}\n\nexport { postingSession, updatingSession, deletingSession, fetchingSessions };\n"]},"metadata":{},"sourceType":"module"}