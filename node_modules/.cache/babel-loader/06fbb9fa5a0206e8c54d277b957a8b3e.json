{"ast":null,"code":"var fetchedUserInbox = function fetchedUserInbox(data) {\n  debugger;\n  return {\n    type: \"FETCHED_USER_DATA\",\n    payload: data\n  };\n};\n\nvar fetchingUserInbox = function fetchingUserInbox(user_id) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"http://localhost:3001/api/v1/users/\".concat(user_id), {\n      method: 'GET',\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token),\n        \"userInbox\": true\n      }\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(fetchedUserInbox(data));\n    });\n  };\n};\n\nvar postedRequest = function postedRequest(data) {\n  debugger;\n  return {\n    type: \"POSTED_REQUEST\",\n    payload: data\n  };\n};\n\nvar postingRequest = function postingRequest(requestObject) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"http://localhost:3001/api/v1/requests\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": \"Bearer \".concat(token)\n      },\n      body: JSON.stringify(requestObject)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(postedRequest(data));\n    });\n  };\n};\n\nvar completedTransaction = function completedTransaction(data) {\n  return {\n    type: \"COMPLETED_TRANSACTION\",\n    payload: data\n  };\n};\n\nvar completingTransaction = function completingTransaction(transactionObject, requestObject) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    fetch(\"http://localhost:3001/api/v1/transactions\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\": \"Bearer \".concat(token)\n      },\n      body: JSON.stringify(transactionObject)\n    }).then(function (res) {\n      return res.json();\n    }).then(function (data) {\n      dispatch(completedTransaction(data));\n    });\n    dispatch(deletingRequest(requestObject));\n  };\n};\n\nvar deletedRequest = function deletedRequest(data) {\n  return {\n    type: 'DELETED_REQUEST',\n    payload: data\n  };\n};\n\nvar deletingRequest = function deletingRequest(requestObject) {\n  var token = localStorage.getItem('token');\n  return function (dispatch) {\n    dispatch(deletedRequest(requestObject));\n    fetch(\"http://localhost:3001/api/v1/requests/\".concat(requestObject.id), {\n      method: \"DELETE\",\n      headers: {\n        \"Authentication\": \"Bearer \".concat(token)\n      }\n    });\n  };\n};\n\nexport { completingTransaction, deletingRequest, postingRequest, fetchingUserInbox };","map":{"version":3,"sources":["/Users/flatironschool/Development/module_5/poker_app_frontend/src/redux/actions/requests.js"],"names":["fetchedUserInbox","data","type","payload","fetchingUserInbox","user_id","token","localStorage","getItem","dispatch","fetch","method","headers","then","res","json","postedRequest","postingRequest","requestObject","body","JSON","stringify","completedTransaction","completingTransaction","transactionObject","deletingRequest","deletedRequest","id"],"mappings":"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","sourcesContent":["const fetchedUserInbox = (data) => {\n  debugger\n  return {\n    type:\"FETCHED_USER_DATA\",\n    payload: data\n  }\n}\n\nconst fetchingUserInbox = (user_id) => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(`http://localhost:3001/api/v1/users/${user_id}`, {\n      method: 'GET',\n      headers: {\n        \"Authentication\" : `Bearer ${token}`,\n        \"userInbox\": true\n      }\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(fetchedUserInbox(data))\n    })\n  }\n}\n\nconst postedRequest = (data) => {\n  debugger\n  return {\n    type:\"POSTED_REQUEST\",\n    payload: data\n  }\n}\n\nconst postingRequest = (requestObject) => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(\"http://localhost:3001/api/v1/requests\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\" : `Bearer ${token}`\n      },\n      body: JSON.stringify(requestObject)\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(postedRequest(data))\n    })\n  }\n}\n\nconst completedTransaction = (data) => {\n  return {\n    type:\"COMPLETED_TRANSACTION\",\n    payload: data\n  }\n}\n\nconst completingTransaction = (transactionObject, requestObject) => {\n  let token = localStorage.getItem('token')\n  return (dispatch) => {\n    fetch(\"http://localhost:3001/api/v1/transactions\", {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authentication\" : `Bearer ${token}`\n      },\n      body: JSON.stringify(transactionObject)\n    })\n    .then(res => res.json())\n    .then(data => {\n      dispatch(completedTransaction(data))\n    })\n    dispatch(deletingRequest(requestObject))\n  }\n}\n\nconst deletedRequest = data => {\n  return {\n    type: 'DELETED_REQUEST',\n    payload: data\n  };\n}\n\nconst deletingRequest = requestObject => {\n  let token = localStorage.getItem('token')\n  return dispatch => {\n    dispatch(deletedRequest(requestObject))\n    fetch(`http://localhost:3001/api/v1/requests/${requestObject.id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Authentication\" : `Bearer ${token}`\n      }\n    })\n  }\n}\n\n\nexport { completingTransaction, deletingRequest, postingRequest, fetchingUserInbox };\n"]},"metadata":{},"sourceType":"module"}